<div class="main-body animated fadeIn fast">
    <div class="row gutters-sm">
        <div class="col-md-4 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-column align-items-center text-center">
                        <img *ngIf="!identity || !identity.image" src="https://www.flaticon.es/svg/static/icons/svg/3612/3612416.svg" alt="Admin" class="rounded-circle"
                            width="150">

                            <img *ngIf="identity && identity.image" src="{{url + 'user/avatar/' + identity.image}}" alt="Admin" class="rounded-circle"
                            width="150" height="150">
                        
                        <div class="mt-3">
                            <h4 *ngIf="identity && identity.name">{{identity.name}}</h4>
                            <p class="text-secondary mb-1">Full Stack Developer</p>
                            <p class="text-muted font-size-sm">Bay Area, San Francisco, CA</p>
                            <angular-file-uploader [config]="afuConfig"  (ApiResponse)="avatarUpload($event)"
                            >
                            </angular-file-uploader>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card mb-3">
                <form #userEditForm='ngForm' (ngSubmit)="onSubmitEdit(userEditForm)">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <h5 class="mb-0">Nombre</h5>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <div class="page">
                                    <label class="field field_v3">
                                        <input class="field__input" type="text" name="nameu" placeholder="Nombre"
                                            #nameu="ngModel" required pattern="[a-z A-Z]+"
                                            [(ngModel)]="userUpdate.name">
                                        <span class="field__label-wrap">
                                            <span class="field__label">Nombre</span>
                                        </span>
                                    </label>
                                    <small *ngIf="!nameu.valid && nameu.touched" class="invalid-feedback d-block">El
                                        nombre no es valido</small>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h5 class="mb-0">Apellido</h5>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <div class="page">
                                    <label class="field field_v3">
                                        <input class="field__input" type="text" name="lastname" placeholder="Fred"
                                            #lastname="ngModel" [(ngModel)]="userUpdate.surname" required
                                            pattern="[a-z A-Z]+">
                                        <span class="field__label-wrap">
                                            <span class="field__label">Apellido</span>
                                        </span>
                                    </label>
                                    <small *ngIf="!lastname.valid && lastname.touched"
                                        class="invalid-feedback d-block">El apellido no es valido</small>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h5 class="mb-0">Correo electronico</h5>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <div class="page">
                                    <label class="field field_v3">
                                        <input class="field__input" type="text" name="emailu" placeholder="Fred"
                                            required #emailu="ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                                            [(ngModel)]="userUpdate.email">
                                        <span class="field__label-wrap">
                                            <span class="field__label">Correo electronico</span>
                                        </span>
                                    </label>
                                    <span *ngIf="!emailu.valid && emailu.touched" class="invalid-feedback d-block">El
                                        correo es invalido</span>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h5 class="mb-0">Bio</h5>
                            </div>
                            <div class="col-sm-9">
                                <div class="page">

                                    <textarea [froalaEditor]="options" class="field__input" type="text" name="description"
                                        #description="ngModel" [(ngModel)]="userUpdate.description"
                                        placeholder="Bio"></textarea>

                                </div>
                            </div>
                        </div>
                        <hr>

                        <div class="row">
                            <div class="col-md-12">
                                <button type="submit" class=" btn btn-block mybtn btn-primary tx-tfm"
                                    [disabled]="userEditForm.invalid">Actualizar</button>
                            </div>
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </div>
</div>